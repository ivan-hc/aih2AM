#!/usr/bin/env bash

URL="https://raw.githubusercontent.com/ivan-hc/AM-application-manager/main"
case "$1" in
  '-t'|'template'|'convert')
	while [ -n "$1" ]
	do
	case $2 in
	*) for var in $2
	do cd $(xdg-user-dir DESKTOP)
	mkdir -p am-scripts && cd am-scripts
	mkdir -p ABOUT
	APP=$( echo $2 | tr A-Z a-z | sed s/_/-/g )
	wget -c $URL/templates/AM-SAMPLE-AppImage.GitHub.io -O $APP
	sed -i s/APPIMAGENAME/$2/g $APP
	sed -i s/SAMPLE/$APP/g $APP
	chmod a+x $APP
	touch ./ABOUT/$APP 
	echo 'â—† '$APP' : ' >> ./list
	done
	esac
	shift
	done;;
   *) echo ""; echo ' USAGE: aih2am convert $APPNAME'; echo ""
 	echo ' where $APPNAME is the name of the AppImage as it appear'
	echo " on the main catalogue, at https://appimage.github.io/apps"
	echo ' NOTE: this works only if the AppImage is hosted on GitHub.com.'; echo "";;
esac
